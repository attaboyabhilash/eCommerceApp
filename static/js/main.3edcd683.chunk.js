(this["webpackJsonpe-commerce-app"]=this["webpackJsonpe-commerce-app"]||[]).push([[0],{31:function(e,t,c){},37:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c(1),a=c.n(r),s=c(21),i=c.n(s),o=c(25),j=c(19),l=c(8),u=Object(r.createContext)(),b=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],i=Object(r.useState)([]),b=Object(l.a)(i,2),m=b[0],d=b[1];Object(r.useEffect)((function(){fetch("https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json").then((function(e){return e.json()})).then((function(e){return s(e)})).catch((function(e){return console.error(e)}))}),[]);return Object(n.jsx)(u.Provider,{value:{photos:a,cartItems:m,toggleHeart:function(e){var t=a.map((function(t){return t.id===e?Object(j.a)(Object(j.a)({},t),{},{isFavorite:!t.isFavorite}):t}));s(t)},addToCart:function(e){d((function(t){return[].concat(Object(o.a)(t),[e])}))},removeFromCart:function(e){var t=m.filter((function(t){return t.id!==e.id}));d(t)},emptyCartItems:function(){d([])}},children:e.children})},m=(c(31),c(9)),d=c(3),O=c(11),h=function(){var e=Object(r.useContext)(u).cartItems.length;return Object(n.jsx)("nav",{children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"navbar",children:[Object(n.jsx)(m.b,{to:"/eCommerceApp",className:"logo",children:"Pics-Commerce"}),Object(n.jsxs)(m.b,{to:"/eCommerceApp/cart",className:"badge-cart",children:[Object(n.jsx)(O.c,{className:"icon-cart"}),e>0&&Object(n.jsx)("span",{className:"badge",children:e})]})]})})})},x=c(23),p=function(e){var t=e.photo,c=e.className,a=Object(r.useState)(!1),s=Object(l.a)(a,2),i=s[0],o=s[1],j=Object(r.useContext)(u),b=j.cartItems,m=j.toggleHeart,d=j.addToCart,h=j.removeFromCart,p=i&&Object(n.jsx)(O.b,{className:"favorite",onClick:function(){return m(t.id)}}),f=Object(n.jsx)(O.a,{className:"favorite",onClick:function(){return m(t.id)}}),v=i&&Object(n.jsx)(x.a,{className:"cart",onClick:function(){return d(t)}}),N=Object(n.jsx)(O.c,{className:"cart",onClick:function(){return h(t)}}),g=b.some((function(e){return e.id===t.id}));return Object(n.jsxs)("div",{className:"".concat(c," image-container"),onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:[Object(n.jsx)("img",{src:t.url,alt:t.id,className:"image-grid"}),t.isFavorite?f:p,g?N:v]})},f=function(e){return e%5===0?"big":e%6===0?"wide":void 0},v=function(){var e=Object(r.useContext)(u).photos.map((function(e,t){return Object(n.jsx)(p,{photo:e,className:f(t)},e.id)}));return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("main",{className:"photos",children:e})})},N=c(24),g=function(e){var t=e.item,c=Object(r.useContext)(u).removeFromCart;return Object(n.jsxs)("div",{className:"cart-item",children:[Object(n.jsx)(N.a,{className:"bin",onClick:function(){return c(t)}}),Object(n.jsx)("img",{src:t.url,alt:t.id}),Object(n.jsx)("p",{children:199..toLocaleString("en-IN",{style:"currency",currency:"INR"})})]})},C=function(){var e=Object(r.useState)("Place Order"),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)("vanish"),i=Object(l.a)(s,2),o=i[0],j=i[1],b=Object(r.useContext)(u),d=b.cartItems,O=b.emptyCartItems,h=d.map((function(e){return Object(n.jsx)(g,{item:e},e.id)})),x=199*d.length,p="".concat(x.toLocaleString("en-IN",{style:"currency",currency:"INR"}));return Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("main",{className:"cart-page",children:[Object(n.jsx)("h1",{children:"Cart Page"}),h,d.length>0?Object(n.jsxs)("p",{className:"total-cost",children:["Total : ",p]}):Object(n.jsxs)("div",{className:"empty",children:[Object(n.jsx)("p",{className:"no-items",children:"No Items in the Cart"}),Object(n.jsx)(m.b,{to:"/eCommerceApp",children:"Go Back To Homepage"})]}),Object(n.jsx)("div",{className:"order-button",children:d.length>0&&Object(n.jsx)("button",{disabled:"Ordering..."===c,onClick:function(){a("Ordering..."),setTimeout((function(){a("Place Order"),O(),j("appear")}),3e3)},children:c})}),Object(n.jsxs)("div",{className:"alert-box ".concat(o),children:[Object(n.jsx)("p",{children:"Your Order has been placed successfully."}),Object(n.jsx)("button",{onClick:function(){return j("vanish")},children:"OK"})]})]})})},I=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(m.a,{children:[Object(n.jsx)(h,{}),Object(n.jsxs)(d.c,{children:[Object(n.jsx)(d.a,{exact:!0,path:"/eCommerceApp",children:Object(n.jsx)(v,{})}),Object(n.jsx)(d.a,{path:"/eCommerceApp/cart",children:Object(n.jsx)(C,{})})]})]})})};i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(b,{children:Object(n.jsx)(I,{})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.3edcd683.chunk.js.map